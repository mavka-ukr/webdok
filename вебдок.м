js """
var $__вебдок_зберегти__;

await ((async function() {
  var { default: fs } = await import('fs');

  $__вебдок_зберегти__ = mavka_diia(
    '__вебдок_зберегти__',
    {
      'шлях': mavka_param(0, 'шлях', $текст, undefined),
      'вміст': mavka_param(1, 'вміст', $текст, undefined)
    },
    (args, di) => {
      var path = mavka_arg(args, 0, 'шлях', $текст, undefined, di);
      var content = mavka_arg(args, 1, 'вміст', $текст, undefined, di);
      fs.writeFileSync(path, content);
      return null;
    }
  );
})());
"""
макет дія __вебдок_зберегти__(шлях, вміст) ніщо

перед = (заголовок): """
<html>
<head>
<title>%(заголовок)</title>
</head>
<body>
""".обрізати()

зад = (): """
</body>
</html>
""".обрізати()

структура Секція
  заголовок текст
  рядки список = []
кінець

дія Секція.хтмл()
  рядки = ""
  перебрати я.рядки як р
    якщо р є текст
      рядки = рядки + "<p>" + р + "</p>"
    інакше
      рядки = рядки + р.хтмл()
    кінець
  кінець
  вернути """
<h1>%(я.заголовок)</h1>
%(рядки)
  """.обрізати()
кінець

структура Код
  мова текст
  код текст
кінець

дія Код.хтмл()
  вернути """
<pre><code class="%(я.мова)">%(я.код)</code></pre>
  """.обрізати()
кінець

структура Вебдок
  заголовок текст
  секції список = []
кінець

дія Вебдок.додати_секцію(с Секція)
  я.секції.додати(с)
кінець

дія Вебдок.хтмл()
  секції = ""
  перебрати я.секції як с
    секції = секції + с.хтмл()
  кінець
  п = перед(я.заголовок)
  з = зад()
  вернути """
%(п)
<h1>%(я.заголовок)</h1>
%(секції)
%(з)
  """.обрізати()
кінець

дати Вебдок
дати Секція
дати Код
дати __вебдок_зберегти__